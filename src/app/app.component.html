<!-- Loading State -->
<ng-container *ngIf="bibleService.isLoading && !bibleService.errorMessage">
    <div class="flex justify-center items-center h-screen bg-light-bg-primary dark:bg-dark-bg-primary">
        <div class="text-center">
            <div class="spinner w-12 h-12 border-4 text-primary-600 dark:text-primary-400 mx-auto"></div>
            <p class="mt-4 text-light-text-secondary dark:text-dark-text-secondary">ஏற்றுகிறது...</p>
        </div>
    </div>
</ng-container>

<!-- Error State -->
<ng-container *ngIf="bibleService.errorMessage && !bibleService.isLoading">
    <div class="flex justify-center items-center h-screen bg-light-bg-primary dark:bg-dark-bg-primary">
        <div class="max-w-md mx-auto space-y-4 px-5 text-center">
            <h2 class="text-light-text-primary dark:text-dark-text-primary text-lg font-medium">{{ bibleService.errorMessage }}</h2>
            <button type="button" class="btn-primary" (click)="bibleService.init()">மீண்டும் முயற்சிக்கவும்</button>
        </div>
    </div>
</ng-container>

<!-- Main Content -->
<ng-container *ngIf="bibleService.getBooks().length > 0 && bibleService.bible.length > 0 && !bibleService.isLoading && !bibleService.errorMessage">
    <div class="app-container">
        <!-- Main Reading Area -->
        <main class="main-content">
            <!-- Header -->
            <div class="header">
                <app-book-selector [books]="books" [chapters]="chapters" [selectedBook]="currentBook" [selectedChapter]="currentChapter" (bookChange)="onBookChange($event)" (chapterChange)="onChapterChange($event)"></app-book-selector>
            </div>

            <!-- Reading Component -->
            <div class="reading-area">
                <app-reading [verses]="bibleService.currentVerses" [fontSize]="fontSize"></app-reading>
            </div>

            <!-- Bottom Toolbar -->
            <div class="bottom-toolbar">
                <app-chapter-navigation [canGoPrevious]="bibleService.canGoPrevious()" [canGoNext]="bibleService.canGoNext()" (navigate)="onNavigate($event)"></app-chapter-navigation>
                <app-theme-toggle></app-theme-toggle>
                <app-font-size-control [fontSize]="fontSize" (fontSizeChange)="onFontSizeChange($event)"></app-font-size-control>
            </div>
        </main>
    </div>
</ng-container>
